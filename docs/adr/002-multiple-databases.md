# ADR 002: 複数データベースのサポート

## ステータス

承認済み

## コンテキスト

Notionのデータベースを2つに分割し、それぞれのレコード数を記録する必要が生じました。これにより、より詳細なメトリクスの追跡が可能になります。

## 決定

以下の変更を実装しました：

1. 環境変数の変更
   - `NOTION_DATABASE_ID`を`NOTION_DATABASE_ID1`と`NOTION_DATABASE_ID2`に分割
   - より汎用的な命名規則を採用

2. コードの変更
   - `config.py`の環境変数定義を更新
   - `notion-metrics-recorder.py`の処理を2つのデータベースに対応
   - Google Spreadsheetの出力形式を変更（3列構成）
     - A列: 日時
     - B列: データベース1のレコード数
     - C列: データベース2のレコード数

3. ドキュメントの更新
   - `.env.example`の更新
   - READMEの更新

## 結果

この変更により：

- 2つのNotionデータベースのレコード数を同時に追跡可能
- より汎用的な命名規則により、将来の拡張性が向上
- スプレッドシートでのデータの可視性が向上

## 注意事項

- 既存の`.env`ファイルの更新が必要
- スプレッドシートの列構成が変更されるため、既存のデータの移行が必要な場合は注意 